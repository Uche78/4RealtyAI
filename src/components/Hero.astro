<!-- 1. DEPENDENCIES: GSAP (Animation) & Fonts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

<!-- 2. STYLES -->
<style>
  /* Typography */
  .font-serif { font-family: 'Playfair Display', serif; }
  .font-sans { font-family: 'Inter', sans-serif; }

  /* TEXTURE: Film Grain Overlay */
  .bg-noise {
    position: absolute;
    inset: 0;
    z-index: 2;
    opacity: 0.05;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }

  /* ANIMATION UTILITY: Masking for "Curtain" Text Reveal */
  /* The text sits inside this box. We hide the overflow so text appears to rise from the floor. */
  .reveal-mask {
    overflow: hidden;
    display: block;
    padding-bottom: 2px; /* Prevents descender clipping */
  }
  
  .reveal-text {
    display: block;
    will-change: transform;
    /* Default state is visible (Fail-Safe). JS will hide it instantly on load. */
  }

  /* BUTTON: Magnetic & Liquid Effect */
  .btn-magnetic {
    position: relative;
    overflow: hidden;
    border: 3px solid rgba(255, 255, 255, 0.2);
    transform: translateZ(0); /* Hardware accel */
  }
  
  /* The white fill layer that slides up */
  .btn-fill {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background-color: #F3F1EC;
    transform: translateY(100%);
    transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1);
    z-index: 0;
  }
  
  .btn-magnetic:hover .btn-fill {
    transform: translateY(0);
  }
  
  .btn-content {
    position: relative;
    z-index: 1;
    transition: color 0.3s;
  }
  
  .btn-magnetic:hover .btn-content {
    color: #050505;
  }
</style>

<section 
  id="hero-section"
  class="relative min-h-[90svh] flex items-center overflow-hidden bg-[#050505]" 
  aria-label="Real estate AI consulting"
>
  <!-- BACKGROUND LAYER -->
  <!-- Image scales slowly on load (handled by JS) -->
  <div 
    id="hero-bg"
    class="absolute inset-0 z-0 bg-cover bg-center opacity-50 grayscale-[30%] contrast-[1.1]" 
    style="background-image: url('/hero.jpg'); transform: scale(1.15);"
  ></div>
  
  <!-- GRADIENT OVERLAYS (For readability & depth) -->
  <div class="absolute inset-0 z-1 bg-gradient-to-t from-[#050505] via-[#050505]/60 to-transparent"></div>
  <div class="absolute inset-0 z-1 bg-gradient-to-r from-[#050505]/80 via-transparent to-transparent"></div>
  
  <!-- NOISE TEXTURE -->
  <div class="bg-noise"></div>

  <!-- CONTENT CONTAINER -->
  <div class="relative z-10 w-full max-w-7xl mx-auto px-6 sm:px-8 py-20 pb-32">
    <div class="max-w-5xl">
      
      <!-- 1. LABEL -->
      <div class="reveal-mask mb-6">
        <div class="reveal-text inline-flex w-fit items-center gap-3">
          <span class="w-1.5 h-1.5 rounded-full bg-white animate-pulse"></span>
          <p class="font-sans font-medium text-[#F3F1EC]/80 text-[11px] tracking-[0.2em] uppercase">
            AI Consulting for Realtors
          </p>
        </div>
      </div>
      
      <!-- 2. HEADLINE (Split lines for stagger effect) -->
      <h1 class="font-serif text-5xl sm:text-6xl md:text-7xl lg:text-8xl text-[#F3F1EC] font-medium mb-8 leading-[1.1]">
        <span class="reveal-mask">
          <span class="reveal-text">AI Systems That</span>
        </span>
        <span class="reveal-mask">
          <span class="reveal-text italic text-[#F3F1EC]/90">Generate Revenue</span>
        </span>
      </h1>

      <!-- 3. SUBHEADLINE -->
      <div class="mb-12 max-w-2xl border-l border-[#F3F1EC]/20 pl-6 md:pl-8">
        <div class="reveal-mask">
          <p class="reveal-text font-sans text-[#F3F1EC]/70 sm:text-lg md:text-xl font-light leading-relaxed">
            We help agents and brokers capture qualified leads
          </p>
        </div>
        <div class="reveal-mask">
          <p class="reveal-text font-sans text-[#F3F1EC]/70 sm:text-lg md:text-xl font-light leading-relaxed">
            and automate content to scale without burnout.
          </p>
        </div>
      </div>
      
      <!-- 4. CTA BUTTONS -->
      <div class="flex flex-col sm:flex-row gap-5" id="hero-ctas">
        <!-- Magnetic Button -->
        <a 
          href="https://assessment.4realtyai.com/assessment"
          class="btn-magnetic group font-sans font-medium inline-flex text-base tracking-wide items-center justify-center bg-white/5 backdrop-blur-sm text-white px-10 py-5 rounded-full transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,255,255,0.1)]"
        >
          <span class="btn-fill"></span>
          <span class="btn-content flex items-center text-[#F3F1EC]/70">
            Get Your Free Assessment
            <svg class="w-4 h-4 ml-3 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </span>
        </a>
      </div>

      <!-- 5. TRUST INDICATORS -->
      <div class="mt-20 sm:flex items-center gap-10 text-[#F3F1EC]/60 text-xs font-sans tracking-wide uppercase" id="hero-trust">
        <div class="flex items-center gap-3">
          <div class="w-1 h-1 rounded-full bg-[#F3F1EC]/60"></div>
          <span>Tailored Strategy</span>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-1 h-1 rounded-full bg-[#F3F1EC]/60"></div>
          <span>Results-Driven</span>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-1 h-1 rounded-full bg-[#F3F1EC]/60"></div>
          <span>Performance Based</span>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- 3. ANIMATION SCRIPT -->
<script>
  window.addEventListener("load", () => {
    
    // Check if GSAP loaded
    if (typeof gsap !== 'undefined') {
      
      // --- TIMELINE SETUP ---
      const tl = gsap.timeline();

      // 1. Initial State Set (Fail-Safe)
      // We instantly hide elements via JS so they don't flash on screen
      gsap.set(".reveal-text", { y: "110%" }); 
      gsap.set(["#hero-ctas", "#hero-trust"], { autoAlpha: 0, y: 20 });
      // Set initial scale of background for the "Ken Burns" effect
      gsap.set("#hero-bg", { scale: 1.15 }); 

      // 2. The Animation Sequence
      
      // Step A: Background Slow Zoom Out (Cinematic Effect)
      gsap.to("#hero-bg", {
        scale: 1.05,
        duration: 10,
        ease: "power1.out"
      });

      // Step B: Text Curtain Reveal
      tl.to(".reveal-text", {
        y: "0%",
        duration: 1.4,
        stagger: 0.15,
        ease: "power4.out",
        delay: 0.2
      })
      // Step C: Fade in Buttons & Trust Indicators
      .to(["#hero-ctas", "#hero-trust"], {
        autoAlpha: 1,
        y: 0,
        duration: 1,
        stagger: 0.2,
        ease: "power2.out"
      }, "-=0.8"); // Overlap slightly with text animation


      // --- INTERACTIVE ELEMENTS ---

      // 3. Mouse Parallax (Background moves against mouse)
      const heroSection = document.getElementById('hero-section');
      const heroBg = document.getElementById('hero-bg');

      if (heroSection && heroBg) {
        heroSection.addEventListener('mousemove', (e) => {
          const x = (e.clientX / window.innerWidth - 0.5) * 20;
          const y = (e.clientY / window.innerHeight - 0.5) * 20;

          gsap.to(heroBg, {
            x: x,
            y: y,
            duration: 2, 
            ease: "power2.out"
          });
        });
      }

      // 4. Magnetic Button Logic
      const magneticBtns = document.querySelectorAll('.btn-magnetic');
      magneticBtns.forEach(btn => {
        btn.addEventListener('mousemove', (e) => {
          const rect = btn.getBoundingClientRect();
          const x = e.clientX - rect.left - rect.width / 2;
          const y = e.clientY - rect.top - rect.height / 2;
          
          gsap.to(btn, {
            x: x * 0.5, // Strength of magnetism
            y: y * 0.5,
            duration: 0.4,
            ease: "power2.out"
          });
        });

        btn.addEventListener('mouseleave', () => {
          gsap.to(btn, { x: 0, y: 0, duration: 0.6, ease: "elastic.out(1, 0.4)" });
        });
      });
      
    }
  });
</script>
